import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import javax.swing.table.DefaultTableModel;

public class StudentManagementApp {
    private JFrame frame;
    private CardLayout cardLayout;
    private JPanel cardPanel;

    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> new StudentManagementApp().createAndShowGUI());
    }

    private void createAndShowGUI() {
        frame = new JFrame("Student Management System");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setSize(600, 400);

        cardLayout = new CardLayout();
        cardPanel = new JPanel(cardLayout);

        // Add all pages
        cardPanel.add(mainMenuPanel(), "main");
        cardPanel.add(manageStudentsPanel(), "manageStudents");
        cardPanel.add(addStudentPanel(), "addStudent");
        cardPanel.add(editStudentPanel(), "editStudent");
        cardPanel.add(removeStudentPanel(), "removeStudent");
        cardPanel.add(viewStudentsPanel(), "viewStudents");
        cardPanel.add(manageRoomsPanel(), "manageRooms");
        cardPanel.add(libraryPanel(), "library");

        frame.add(cardPanel);
        frame.setVisible(true);
    }

    private JPanel mainMenuPanel() {
        JPanel panel = new JPanel(new GridLayout(4, 1));
        panel.add(new JLabel("Main Menu", SwingConstants.CENTER));
        JButton manageStudents = new JButton("Manage Students");
        JButton manageRooms = new JButton("Manage Rooms");
        JButton library = new JButton("Library");

        manageStudents.addActionListener(e -> cardLayout.show(cardPanel, "manageStudents"));
        manageRooms.addActionListener(e -> cardLayout.show(cardPanel, "manageRooms"));
        library.addActionListener(e -> cardLayout.show(cardPanel, "library"));

        panel.add(manageStudents);
        panel.add(manageRooms);
        panel.add(library);
        return panel;
    }

    private JPanel manageStudentsPanel() {
        JPanel panel = new JPanel(new GridLayout(6, 1));
        panel.add(new JLabel("Manage Students", SwingConstants.CENTER));

        JButton add = new JButton("Add Student");
        JButton edit = new JButton("Edit Student");
        JButton remove = new JButton("Remove Student");
        JButton view = new JButton("View Students");
        JButton exit = new JButton("Exit");

        add.addActionListener(e -> cardLayout.show(cardPanel, "addStudent"));
        edit.addActionListener(e -> cardLayout.show(cardPanel, "editStudent"));
        remove.addActionListener(e -> cardLayout.show(cardPanel, "removeStudent"));
        view.addActionListener(e -> cardLayout.show(cardPanel, "viewStudents"));
        exit.addActionListener(e -> cardLayout.show(cardPanel, "main"));

        panel.add(add);
        panel.add(edit);
        panel.add(remove);
        panel.add(view);
        panel.add(exit);
        return panel;
    }

    private JPanel addStudentPanel() {
        JPanel panel = new JPanel(new BorderLayout());
        panel.add(new JLabel("Add Student", SwingConstants.CENTER), BorderLayout.NORTH);

        JPanel form = new JPanel(new GridLayout(5, 2));
        JTextField name = new JTextField();
        JTextField course = new JTextField();
        JTextField email = new JTextField();
        JTextField grade = new JTextField();

        form.add(new JLabel("Name:"));
        form.add(name);
        form.add(new JLabel("Course:"));
        form.add(course);
        form.add(new JLabel("Email:"));
        form.add(email);
        form.add(new JLabel("Grade:"));
        form.add(grade);

        JButton add = new JButton("Add Student");
        JButton exit = new JButton("Exit");
        exit.addActionListener(e -> cardLayout.show(cardPanel, "main"));

        JPanel bottom = new JPanel();
        bottom.add(add);
        bottom.add(exit);

        panel.add(form, BorderLayout.CENTER);
        panel.add(bottom, BorderLayout.SOUTH);
        return panel;
    }

    private JPanel editStudentPanel() {
        JPanel panel = new JPanel(new BorderLayout());
        panel.add(new JLabel("Edit Student", SwingConstants.CENTER), BorderLayout.NORTH);

        JPanel top = new JPanel(new FlowLayout());
        JTextField search = new JTextField(20);
        JButton searchBtn = new JButton("Search Student");
        top.add(new JLabel("Enter Name:"));
        top.add(search);
        top.add(searchBtn);

        JPanel form = new JPanel(new GridLayout(5, 2));
        JTextField name = new JTextField();
        JTextField course = new JTextField();
        JTextField email = new JTextField();
        JTextField grade = new JTextField();

        form.add(new JLabel("Name:"));
        form.add(name);
        form.add(new JLabel("Course:"));
        form.add(course);
        form.add(new JLabel("Email:"));
        form.add(email);
        form.add(new JLabel("Grade:"));
        form.add(grade);

        JButton edit = new JButton("Edit Student");
        JButton exit = new JButton("Exit");
        exit.addActionListener(e -> cardLayout.show(cardPanel, "main"));

        JPanel bottom = new JPanel();
        bottom.add(edit);
        bottom.add(exit);

        panel.add(top, BorderLayout.NORTH);
        panel.add(form, BorderLayout.CENTER);
        panel.add(bottom, BorderLayout.SOUTH);
        return panel;
    }

    private JPanel removeStudentPanel() {
        JPanel panel = new JPanel(new BorderLayout());
        panel.add(new JLabel("Remove Student", SwingConstants.CENTER), BorderLayout.NORTH);

        JPanel center = new JPanel(new FlowLayout());
        JTextField name = new JTextField(20);
        JButton remove = new JButton("Remove Student");
        center.add(new JLabel("Enter Name:"));
        center.add(name);
        center.add(remove);

        JButton exit = new JButton("Exit");
        exit.addActionListener(e -> cardLayout.show(cardPanel, "main"));

        panel.add(center, BorderLayout.CENTER);
        panel.add(exit, BorderLayout.SOUTH);
        return panel;
    }

    private JPanel viewStudentsPanel() {
        JPanel panel = new JPanel(new BorderLayout());
        panel.add(new JLabel("View Students", SwingConstants.CENTER), BorderLayout.NORTH);

        String[] columns = {"Name", "Email", "Course", "Grade"};
        Object[][] data = {
                {"Connor", "connor@gmail.com", "Computing", "A"},
                {"Miguel", "miguel@gmail.com", "Programming", "F"}
        };
        JTable table = new JTable(new DefaultTableModel(data, columns));
        JScrollPane scrollPane = new JScrollPane(table);

        JButton exit = new JButton("Exit");
        exit.addActionListener(e -> cardLayout.show(cardPanel, "main"));

        panel.add(scrollPane, BorderLayout.CENTER);
        panel.add(exit, BorderLayout.SOUTH);
        return panel;
    }

    private JPanel manageRoomsPanel() {
        JPanel panel = new JPanel(new BorderLayout());
        panel.add(new JLabel("Manage Rooms", SwingConstants.CENTER), BorderLayout.NORTH);

        JPanel center = new JPanel(new GridLayout(2, 2));
        JTextField course = new JTextField();
        JTextField room = new JTextField();
        center.add(new JLabel("Course Name:"));
        center.add(course);
        center.add(new JLabel("Room:"));
        center.add(room);

        JButton find = new JButton("Find");
        JButton exit = new JButton("Exit");
        exit.addActionListener(e -> cardLayout.show(cardPanel, "main"));

        JPanel bottom = new JPanel();
        bottom.add(find);
        bottom.add(exit);

        panel.add(center, BorderLayout.CENTER);
        panel.add(bottom, BorderLayout.SOUTH);
        return panel;
    }

    private JPanel libraryPanel() {
        JPanel panel = new JPanel(new BorderLayout());
        panel.add(new JLabel("Library", SwingConstants.CENTER), BorderLayout.NORTH);

        JPanel center = new JPanel(new FlowLayout());
        JTextField search = new JTextField(20);
        JButton find = new JButton("Find");
        center.add(new JLabel("Search Content:"));
        center.add(search);
        center.add(find);

        JButton exit = new JButton("Exit");
        exit.addActionListener(e -> cardLayout.show(cardPanel, "main"));

        panel.add(center, BorderLayout.CENTER);
        panel.add(exit, BorderLayout.SOUTH);
        return panel;
    }
}

